name: Release python package to PyPi


on:
  workflow_dispatch:




jobs:
  build-wheels:
    uses: ./.github/workflows/build_wheels.yml

  upload-to-pypi:
    needs: build-wheels
    name: Upload pre-built wheels to pypi
    runs-on: ubuntu-latest

    steps:
#      - name: Set up python
#        uses: actions/setup-python@v5
#      - name: Download built wheels
#          uses: actions/download-artifact@v4
#          with:
#            name: built-wheels
#            path: dist
#
#      - name: List wheels
#          run: ls -l dist
      - name: Download built wheels
        uses: actions/download-artifact@v4
        with:
          name: built-wheels
          path: dist

      - name: List wheels
        run: ls -l dist

      - name: Install twine
        run: pip install twine

      - name: Echo something weird
        run: echo "HEeeelloooo"